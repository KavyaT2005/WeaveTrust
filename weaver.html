<!DOCTYPE html>
<html>
<head>
<style>
body{margin:0;background:#eee;font-family:sans-serif}
.top{background:#3b73d1;color:white;padding:15px}
table{width:60%;margin:30px auto;background:white;border-collapse:collapse}
td,th{padding:10px;border:1px solid #ddd;text-align:center}
a{color:#3b73d1;text-decoration:none;font-weight:bold}

/* üîç Search box style */
.search-box{
    text-align:center;
    margin-top:20px;
}
.search-box input{
    padding:8px;
    width:250px;
}
.search-box button{
    padding:8px 12px;
    background:#3b73d1;
    color:white;
    border:none;
}
</style>
</head>

<body>

<div class="top">
Weaver Dashboard | {{session.user}}
<a href="/logout" style="color:white;float:right">Logout</a>
</div>

<!-- üîç SEARCH BAR (NEW) -->
<div class="search-box">
    <form method="get">
        <input
            type="text"
            name="search"
            placeholder="Search owner name"
            value="{{ search or '' }}"
        >
        <button type="submit">Search</button>
    </form>
</div>

<h2 style="text-align:center">Connected Owners</h2>

<table>
<tr>
<th>Owner Name</th>
<th>View Orders</th>
</tr>

{% if owners %}
    {% for o in owners %}
    <tr>
        <td>{{o.owner}}</td>
        <td>
            <a href="/weaver/owner/{{o.owner}}">View Orders</a>
        </td>
    </tr>
    {% endfor %}
{% else %}
<tr>
<td colspan="2">No orders yet</td>
</tr>
{% endif %}

</table>

</body>
</html>
